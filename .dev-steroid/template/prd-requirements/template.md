# 要件定義書
> 本書は「客先提出用の納品物」を前提とする。曖昧さを残さない（決定事項 / 未決 / 前提を分離）。ID は全工程（設計/テスト/実装）でトレース可能な粒度で付与する。
> **全セクション必須**。該当しない場合は「該当なし」と記載し、セクション自体は削除しない。
## 0. サマリ
- 背景（1〜3行）：
- 目的（1〜3行）：
- 期待成果（KPI/成功指標）：
- 想定リリース/適用範囲：
## 1. 背景・現状課題
- 現状：
- 課題：
- 課題の根拠（数値/事実/観測）：
## 2. 目的・成功条件
- 目的：
- 成功条件（定量/定性）：
- 非目的（やらないこと）：
## 3. ステークホルダー
| 区分 | 役割/責任 | 氏名/組織 | 承認要否 | 備考 |
|---|---|---|---|---|
## 4. スコープ
### 4.1 対象範囲（In scope）
-
### 4.2 対象外（Out of scope）
-
### 4.3 前提・制約
- 法令/規約：
- 技術：
- 期間/体制：
- 外部依存：
## 5. 対象ユーザー / 想定利用シーン
- 対象ユーザー：
- 想定利用シーン：
- 代表ユースケース（箇条書き）：
## 6. 機能要件
### 6.1 機能一覧（要約）
| FR-ID | 機能/ユースケース | 概要 | 優先度 | 主要な受入基準（AC-ID） | 備考 |
|---|---|---|---|---|---|
### 6.2 機能詳細（FRごと）
> ここが後続の「基本/詳細/テスト設計」の根拠になる。入出力・主要ルール・例外・権限・制約まで書く。
#### FR-xxx
- 概要：
- 画面/IF（ある場合）：
- 入力：
- 出力：
- 主要ルール：
- 例外/エラー：
- 権限/ロール：
- 監査/ログ要件：
- 関連AC（AC-ID）：
### 6.3 画面一覧
| 画面ID | 画面名 | 目的 | 主な入力 | 主な出力 | 備考 |
|---|---|---|---|---|---|
### 6.4 API/外部IF 要件
| IF-ID | 種別 | 概要 | 認証/認可 | 入出力の要点 | 備考 |
|---|---|---|---|---|---|
## 7. 非機能要件
> “測れる形”で書く。未決は未決として明示し、仮置き値には根拠を添える。
### 7.1 性能
- レイテンシ目標：
- スループット目標：
- 同時接続：
- バッチ/ピーク：
### 7.2 可用性・復旧
- 稼働率（SLA/目標）：
- RTO/RPO：
- 障害時の通知/エスカレーション：
### 7.3 セキュリティ・プライバシー
- 認証/認可の要件：
- 取り扱うデータ分類（PII 等）：
- 暗号化（通信/保存）：
- 監査ログ：
- 脆弱性対策（入力検証/CSRF/レート制限 等）：
### 7.4 運用・保守
- 監視（メトリクス/ログ/アラート）：
- 運用手順の要点：
- 障害対応方針：
- 変更管理/ロールバック：
### 7.5 互換性・制約（端末/ブラウザ/環境等）
-
## 8. 受入基準（Acceptance Criteria）
> 実装フェーズの RED→GREEN→REFACTOR / テスト設計で参照する。各 AC は “観測可能” な形式にする。
| AC-ID | 対象（FR-ID/画面ID/IF-ID） | シナリオ | 期待結果 | 優先度 | 備考 |
|---|---|---|---|---|---|
## 9. リスク・課題・未決
### 9.1 リスク
| リスク | 影響 | 可能性 | 対策 | オーナー | 期限 |
|---|---|---|---|---|---|
### 9.2 未決（TODO）
-
## 10. 用語集
| 用語 | 定義 | 備考 |
|---|---|---|
## 11. 変更履歴
| 日付 | 変更 | 変更者 |
|---|---|---|
## 12. レビューステータス
- AIレビュー：未実施 / reviewed / 指摘あり
- ユーザー承認：未承認 / approved
- 備考：

<!-- generation_hints:
- FR-ID / AC-ID / 画面ID / IF-ID を採番し、表と本文で一貫させる（例：FR-001, AC-001, UI-001, IF-001）
- 受入基準（AC）は「観測可能」な形で記述し、テスト設計へトレース可能にする
- 曖昧さは「決定事項 / 未決 / 前提」に分離して明記する（推測で埋めない）
- 分割する場合は機能単位でファイル/フォルダを切り、エントリポイントから必ずリンクする
- 客先提出物として、用語統一・表記ゆれ排除・箇条書きと表の整合（ID/優先度/責任者）を徹底する
-->
<!-- review_criteria:
- FR-ID / AC-ID / 画面ID / IF-ID が一貫しており、設計/テストへトレース可能
- 受入基準（AC）が観測可能で、曖昧さ（前提/未決）が分離されている
- スコープ（in/out）が明確で、仕様追加/拡大が混入していない
- リスク/制約/例外が必要十分に書かれている
-->
