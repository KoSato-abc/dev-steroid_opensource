# セキュリティ設計書
> 本書は要件/設計に対する“攻撃に強い設計”を明文化する。未決は未決として明示し、推測で埋めない。
> **全セクション必須**。該当しない場合は「該当なし」と記載し、セクション自体は削除しない。
## 0. サマリ
- 対象範囲：
- 前提：
- 重要なセキュリティ判断：
## 1. 資産・脅威の整理
### 1.1 保護対象（資産）
| 資産 | 重要度 | 取り扱い | 例 |
|---|---|---|---|
### 1.2 脅威モデル（簡易）
| 脅威 | 影響 | 侵入経路 | 対策 | 検知/監査 |
|---|---|---|---|---|
## 2. 認証（Authentication）
- 方式（ID/PW, SSO, OAuth 等）：
- セッション/トークン（有効期限/更新/失効）：
- 多要素認証：
- アカウントロック/パスワードポリシー：
## 3. 認可（Authorization）
- ロール/権限モデル：
- 権限判定ポイント（API/画面/データ）：
- 最小権限の方針：
## 4. データ保護
- 通信暗号化（TLS 等）：
- 保存時暗号化：
- PII の扱い（マスキング/ログ出力禁止）：
- 秘密情報管理（鍵/トークン/環境変数）：
## 5. 入力検証・脆弱性対策
- 入力検証（サーバ/クライアントの責務）：
- 代表的な対策（SQLi/XSS/CSRF/SSRF/IDOR 等）：
- レート制限/DoS対策：
## 6. 監査・ログ
- 監査ログ対象（誰が/いつ/何を/結果）：
- ログレベル/保管期間：
- アラート条件：
## 7. 運用・更新
- 依存ライブラリ/脆弱性管理：
- インシデント対応（検知→封じ込め→復旧→再発防止）：
- 権限棚卸し：
## 8. 未決・TODO
-
## 9. レビューステータス
- AIレビュー：未実施 / reviewed / 指摘あり
- ユーザー承認：未承認 / approved
- 備考：

<!-- generation_hints:
- 脅威→対策→検知（監査/アラート）の対応関係が追える形で記述する
- 認証/認可/データ保護/入力検証は、要件と設計（API/データ）に整合するように具体化する
- "運用"を含める（鍵管理、依存脆弱性、インシデント対応、権限棚卸し）
- 分割する場合は領域（Auth/Data/OWASP/運用）単位で分割し、エントリポイントからリンクする
-->
<!-- review_criteria:
- 脅威→対策→検知（監査/アラート）の対応が追える
- 認証/認可/データ保護/入力検証が、要件・API・データ設計と整合している
- 運用（鍵管理、依存脆弱性、インシデント対応、権限棚卸し）が欠落していない
-->
